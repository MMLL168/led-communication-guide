<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LED é¡¯ç¤ºå±ä¸²æ¥é€šè¨ŠåŸç† | äº’å‹•æŒ‡å— v3.1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif; }
        
        /* Chart Styles */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 400px; }
        }

        /* Canvas Styles */
        .canvas-sim-container {
            width: 100%;
            height: 300px;
            background-color: #f8fafc;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }

        /* Connector Card Styles */
        .connector-card {
            transition: all 0.2s ease;
        }
        .connector-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .connector-card.active {
            border-color: #4f46e5;
            background-color: #eff6ff;
            box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
        }

        /* Modal Styles */
        .modal {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
            pointer-events: none;
        }
        .modal.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.3s ease-in-out;
        }
        .modal.active .modal-content {
            transform: scale(1);
        }
        .flow-arrow::after {
            content: "â†’";
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 1.5rem;
        }
        @media (max-width: 768px) {
            .flow-arrow::after {
                content: "â†“";
                right: 50%;
                top: auto;
                bottom: -25px;
                transform: translateX(50%);
            }
        }

        /* Pin Table Styles (NEW) */
        .pin-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        .pin-table th {
            text-align: left;
            padding: 8px;
            background-color: #f1f5f9;
            color: #475569;
            border-bottom: 2px solid #e2e8f0;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .pin-table td {
            padding: 8px;
            border-bottom: 1px solid #e2e8f0;
            font-family: monospace;
        }
        .pin-table tr:last-child td {
            border-bottom: none;
        }
        .wire-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 6px;
            border: 1px solid #cbd5e1;
            vertical-align: middle;
        }
    </style>
    <!-- 
       v3.1 Update Log:
       1. Preserved ALL v2.0 content (Signal Flow Modal, Topology, Radar).
       2. Enhanced Hardware Section: Added a right-column for Pin Definitions (Pinout).
       3. Added CSS for visualization of wire colors (T568B).
       4. Updated connectorData logic to inject HTML tables.
    -->
</head>
<body class="bg-slate-50 text-slate-800 leading-relaxed">

    <!-- Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl mr-2">ğŸ“Ÿ</span>
                    <h1 class="text-xl font-bold text-slate-900 tracking-tight">LED é¡¯ç¤ºå±ä¸²æ¥é€šè¨ŠæŒ‡å— <span class="text-xs bg-indigo-600 text-white px-2 py-0.5 rounded ml-2">v3.1 Pro</span></h1>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <button onclick="scrollToSection('protocols')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">é€šè¨Šå”å®š</button>
                    <button onclick="scrollToSection('hardware')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">ç¡¬é«”æ¥é ­</button>
                    <button onclick="scrollToSection('topology')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">ä¸²æ¥æ‹“æ’²</button>
                    <button onclick="scrollToSection('control')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">æ§åˆ¶ç³»çµ±</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="text-center">
            <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">
                å¤§å‹ LED é¡¯ç¤ºå±å¦‚ä½•ã€Œå°è©±ã€ï¼Ÿ
            </h2>
            <p class="mt-4 max-w-2xl mx-auto text-xl text-slate-500">
                æ·±å…¥è§£æåµŒå…¥å¼æ§åˆ¶ç³»çµ±ã€è¨Šè™Ÿå”å®šèˆ‡ç‰©ç†å±¤æ¶æ§‹ã€‚
            </p>
        </div>
        
        <div class="mt-10 grid grid-cols-1 gap-5 sm:grid-cols-3">
            <div class="bg-white overflow-hidden shadow rounded-lg p-6 border-t-4 border-indigo-500">
                <div class="text-lg font-medium text-slate-900">é€šè¨Šå”å®š</div>
                <p class="mt-2 text-sm text-slate-500">Ethernet (TCP/IP) vs RS-485 åºåˆ—é€šè¨Šã€‚</p>
            </div>
            <div class="bg-white overflow-hidden shadow rounded-lg p-6 border-t-4 border-teal-500">
                <div class="text-lg font-medium text-slate-900">ç¡¬é«”ä»‹é¢</div>
                <p class="mt-2 text-sm text-slate-500">å«å®Œæ•´ Pin Definition èˆ‡è¨Šè™Ÿæµå‘åœ–ã€‚</p>
            </div>
            <div class="bg-white overflow-hidden shadow rounded-lg p-6 border-t-4 border-amber-500">
                <div class="text-lg font-medium text-slate-900">æ‹“æ’²æ¶æ§‹</div>
                <p class="mt-2 text-sm text-slate-500">èŠèŠ±éˆ (Daisy Chain) èˆ‡ç’°ç‹€å‚™æ´ (Redundancy) æ¨¡æ“¬ã€‚</p>
            </div>
        </div>
    </section>

    <!-- Section 1: Protocols -->
    <section id="protocols" class="bg-white py-12 border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:text-center mb-10">
                <p class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Communication Protocols</p>
                <h3 class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl">
                    é€šè¨Šå”å®šæ¯”è¼ƒ
                </h3>
            </div>

            <div class="flex flex-col lg:flex-row gap-12 items-center">
                <div class="w-full lg:w-1/2">
                    <div class="chart-container bg-slate-50 rounded-xl p-4 shadow-inner">
                        <canvas id="protocolRadarChart"></canvas>
                    </div>
                    <div class="mt-4 text-center text-sm text-slate-400">
                        é»æ“Šå³å´æŒ‰éˆ•åˆ‡æ›å–®ä¸€å”å®šç‰¹å¾µ
                    </div>
                </div>

                <div class="w-full lg:w-1/2 space-y-6">
                    <div class="flex flex-wrap gap-2 justify-center lg:justify-start">
                        <button onclick="updateChart('all')" class="px-4 py-2 bg-slate-800 text-white rounded-md hover:bg-slate-700 transition">å…¨éƒ¨æ¯”è¼ƒ</button>
                        <button onclick="updateChart('ethernet')" class="px-4 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition">ä¹™å¤ªç¶²è·¯ (Ethernet)</button>
                        <button onclick="updateChart('rs485')" class="px-4 py-2 bg-amber-100 text-amber-700 rounded-md hover:bg-amber-200 transition">åºåˆ—é€šè¨Š (RS-485)</button>
                        <button onclick="updateChart('fiber')" class="px-4 py-2 bg-teal-100 text-teal-700 rounded-md hover:bg-teal-200 transition">å…‰çº–å‚³è¼¸</button>
                    </div>

                    <div id="protocol-desc" class="bg-slate-50 p-6 rounded-lg border border-slate-200 min-h-[12rem]">
                        <h4 class="text-lg font-bold text-slate-900 mb-2">ä¹™å¤ªç¶²è·¯ (Ethernet / TCP/IP)</h4>
                        <p class="text-slate-600 mb-2">
                            <strong>æ‡‰ç”¨å ´æ™¯ï¼š</strong> ç›®å‰æ¥­ç•Œå¤§å‹ LED å±èˆ‡é«˜è§£æåº¦é›»è¦–ç‰†çš„ä¸»æµæ¨™æº–ã€‚
                        </p>
                        <ul class="list-disc pl-5 space-y-1 text-slate-600 text-sm">
                            <li><strong>é »å¯¬ï¼š</strong> Gigabit (1000Mbps) ç´šåˆ¥ï¼Œæ”¯æ´å½±åƒå¯¦æ™‚å¤§æ•¸æ“šæµã€‚</li>
                            <li><strong>ç‰©ç†å±¤ï¼š</strong> ä½¿ç”¨æ¨™æº– RJ45 æ¥é ­èˆ‡ Cat5e/Cat6 é›™çµç·šã€‚</li>
                            <li><strong>æ©Ÿåˆ¶ï¼š</strong> ç”¨æ–¼ç™¼é€å¡(Master)å°æ¥æ”¶å¡(Slave)çš„æ•¸æ“šåˆ†ç™¼ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Hardware Connectors (ENHANCED with PINOUT) -->
    <section id="hardware" class="py-12 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-8">
                <h3 class="text-3xl font-bold text-slate-900">ç¡¬é«”æ¥é ­èˆ‡è…³ä½å®šç¾© (Pin Definitions)</h3>
                <p class="mt-4 text-slate-500">
                    é»æ“Šå¡ç‰‡æŸ¥çœ‹è©³ç´°è¦æ ¼ã€æ‡‰ç”¨å ´æ™¯åŠ Datasheet ç­‰ç´šçš„è…³ä½åœ–ã€‚
                </p>
            </div>

            <!-- Connector Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div onclick="selectConnector('rj45')" id="card-rj45" class="connector-card active cursor-pointer bg-white p-6 rounded-xl border border-slate-200 relative overflow-hidden group">
                    <div class="text-3xl mb-2">ğŸŒ</div>
                    <div class="text-xl font-bold text-slate-800">RJ45</div>
                    <div class="text-xs text-slate-500">ä¹™å¤ªç¶²è·¯ä»‹é¢</div>
                </div>

                <div onclick="selectConnector('aviation')" id="card-aviation" class="connector-card cursor-pointer bg-white p-6 rounded-xl border border-slate-200 relative overflow-hidden group">
                    <div class="text-3xl mb-2">ğŸ›¡ï¸</div>
                    <div class="text-xl font-bold text-slate-800">èˆªç©ºæ’é ­</div>
                    <div class="text-xs text-slate-500">é˜²æ°´å¼·å›ºå‹</div>
                </div>

                <div onclick="selectConnector('fiber')" id="card-fiber" class="connector-card cursor-pointer bg-white p-6 rounded-xl border border-slate-200 relative overflow-hidden group">
                    <div class="text-3xl mb-2">ğŸ’¡</div>
                    <div class="text-xl font-bold text-slate-800">å…‰çº–æ¥é ­</div>
                    <div class="text-xs text-slate-500">é•·è·é›¢å‚³è¼¸</div>
                </div>

                <div onclick="selectConnector('dsub')" id="card-dsub" class="connector-card cursor-pointer bg-white p-6 rounded-xl border border-slate-200 relative overflow-hidden group">
                    <div class="text-3xl mb-2">ğŸ“Ÿ</div>
                    <div class="text-xl font-bold text-slate-800">DB9 / RS232</div>
                    <div class="text-xs text-slate-500">å‚³çµ±æ§åˆ¶ä»‹é¢</div>
                </div>
            </div>

            <!-- Detail View (Split Layout) -->
            <div class="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                <div class="flex flex-col lg:flex-row">
                    
                    <!-- Left Column: Description (Same as v2) -->
                    <div class="lg:w-1/2 p-8 border-b lg:border-b-0 lg:border-r border-slate-100">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="bg-indigo-50 p-4 rounded-lg text-4xl" id="connector-icon">ğŸŒ</div>
                            <div>
                                <h4 class="text-2xl font-bold text-indigo-700" id="connector-title">RJ45 (ä¹™å¤ªç¶²è·¯ä»‹é¢)</h4>
                                <span class="text-sm font-mono text-slate-400">Standard T568B</span>
                            </div>
                        </div>
                        <div class="space-y-4 text-slate-600">
                            <p id="connector-desc">
                                LED é¡¯ç¤ºå±æœ€æ ¸å¿ƒçš„æ•¸æ“šå‚³è¼¸ä»‹é¢ã€‚é€šå¸¸ä½¿ç”¨ Cat5e æˆ– Cat6 ç¶²è·¯ç·šé€£æ¥ç™¼é€å¡èˆ‡æ¥æ”¶å¡ï¼Œä»¥åŠç®±é«”èˆ‡ç®±é«”ä¹‹é–“çš„ç´šè¯ (Cascade)ã€‚
                            </p>
                            <div class="bg-slate-50 p-4 rounded-md border border-slate-200">
                                <h5 class="font-bold text-slate-800 text-sm mb-2">æ‡‰ç”¨ç­†è¨˜ï¼š</h5>
                                <div id="connector-specs" class="text-sm space-y-1">
                                    <!-- Specs injected by JS -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Pin Definition Table (NEW) -->
                    <div class="lg:w-1/2 bg-slate-50 p-0 flex flex-col">
                        <div class="bg-slate-200 px-6 py-3 border-b border-slate-300 flex justify-between items-center">
                            <span class="font-bold text-slate-700 text-sm">PIN DEFINITION (è…³ä½å®šç¾©)</span>
                            <span class="text-xs bg-white px-2 py-0.5 rounded border border-slate-300 text-slate-500">Datasheet View</span>
                        </div>
                        <div id="pinout-container" class="flex-grow p-6 overflow-x-auto">
                            <!-- Table injected by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Topology Simulation -->
    <section id="topology" class="py-12 bg-white border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:flex lg:items-start lg:gap-12">
                <div class="lg:w-1/3 mb-8 lg:mb-0">
                    <h3 class="text-3xl font-bold text-slate-900 mb-4">ä¸²æ¥æ‹“æ’²æ¨¡æ“¬</h3>
                    <p class="text-slate-500 mb-6">
                        é¸æ“‡ä¸åŒçš„ä½ˆç·šæ–¹å¼ï¼Œè§€å¯Ÿè¨Šè™Ÿæµå‘èˆ‡æ–·ç·šåæ‡‰ã€‚
                    </p>
                    <div class="space-y-3">
                        <button onclick="setTopology('chain')" class="w-full text-left px-4 py-3 rounded-lg border border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition topo-btn active-topo" data-type="chain">
                            <div class="font-bold text-slate-800">èŠèŠ±éˆ (Daisy Chain)</div>
                            <div class="text-xs text-slate-500">å–®ç·šä¸²æ¥ï¼Œæˆæœ¬æœ€ä½ã€‚</div>
                        </button>
                        <button onclick="setTopology('star')" class="w-full text-left px-4 py-3 rounded-lg border border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition topo-btn" data-type="star">
                            <div class="font-bold text-slate-800">æ˜Ÿç‹€æ‹“æ’² (Star)</div>
                            <div class="text-xs text-slate-500">é«˜å¯é æ€§ï¼Œä½ˆç·šè¤‡é›œã€‚</div>
                        </button>
                        <button onclick="setTopology('ring')" class="w-full text-left px-4 py-3 rounded-lg border border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition topo-btn" data-type="ring">
                            <div class="font-bold text-slate-800">ç’°ç‹€å‚™æ´ (Redundant Ring)</div>
                            <div class="text-xs text-slate-500">ä¸»å‚™æ´è¿´è·¯ï¼Œæ–·ç·šè‡ªå‹•ä¿è­·ã€‚</div>
                        </button>
                    </div>
                    <div id="topo-explanation" class="mt-6 p-4 bg-amber-50 text-amber-800 text-sm rounded border border-amber-200">
                        <strong>æ¨¡æ“¬èªªæ˜ï¼š</strong> è§€å¯Ÿè—è‰²è¨Šè™Ÿé»çš„ç§»å‹•ã€‚åœ¨èŠèŠ±éˆæ¨¡å¼ä¸‹ï¼Œå¦‚æœä¸­é–“æ–·é–‹ï¼Œå¾Œç«¯æ‰€æœ‰è¢å¹•éƒ½æœƒå¤±å»è¨Šè™Ÿï¼ˆè®Šç´…ï¼‰ã€‚
                    </div>
                </div>
                <div class="lg:w-2/3">
                    <div class="canvas-sim-container shadow-md">
                        <canvas id="topologyCanvas"></canvas>
                    </div>
                    <div class="flex justify-between mt-2 text-sm text-slate-400 px-2">
                        <span>ğŸ–¥ï¸ ç™¼é€å¡ (Sender)</span>
                        <span>ğŸ“º LED ç®±é«” (Cabinets)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Control Systems -->
    <section id="control" class="py-12 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h3 class="text-3xl font-bold text-center text-slate-900 mb-10">æ§åˆ¶ç³»çµ±æ¶æ§‹</h3>
            <div class="flex justify-center mb-8">
                <div class="bg-white p-1 rounded-lg border border-slate-300 inline-flex shadow-sm">
                    <button onclick="toggleSystem('sync')" id="btn-sync" class="px-6 py-2 rounded-md text-sm font-bold bg-indigo-600 text-white shadow transition-all">åŒæ­¥æ§åˆ¶ (Synchronous)</button>
                    <button onclick="toggleSystem('async')" id="btn-async" class="px-6 py-2 rounded-md text-sm font-bold text-slate-500 hover:bg-slate-100 transition-all">éåŒæ­¥æ§åˆ¶ (Asynchronous)</button>
                </div>
            </div>
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-slate-200 max-w-4xl mx-auto relative">
                <div class="p-8 pb-20">
                    <div id="sys-content-sync" class="sys-content block">
                        <div class="flex flex-col md:flex-row items-center gap-8">
                            <div class="md:w-1/3 flex justify-center">
                                <div class="text-8xl">ğŸ–¥ï¸ â¡ï¸ ğŸ“º</div>
                            </div>
                            <div class="md:w-2/3">
                                <h4 class="text-2xl font-bold text-indigo-700 mb-2">åŒæ­¥æ§åˆ¶ç³»çµ±</h4>
                                <p class="text-slate-600 mb-4 font-medium">æ‰€è¦‹å³æ‰€å¾—ï¼šLED å±å¯¦æ™‚é¡¯ç¤ºé›»è…¦è¢å¹•çš„å…§å®¹ã€‚</p>
                                <ul class="space-y-3 text-slate-600 text-sm">
                                    <li class="flex items-start"><span class="mr-2 text-green-500">âœ“</span><span><strong>ç¡¬é«”ï¼š</strong> PC GPU (DVI/HDMI) + ç™¼é€å¡ (Sender)ã€‚</span></li>
                                    <li class="flex items-start"><span class="mr-2 text-green-500">âœ“</span><span><strong>è³‡æ–™æµï¼š</strong> åƒç´ é»å°é»æ˜ å°„ï¼Œç¶“ç”± Gigabit Ethernet å‚³è¼¸ã€‚</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div id="sys-content-async" class="sys-content hidden">
                        <div class="flex flex-col md:flex-row items-center gap-8">
                            <div class="md:w-1/3 flex justify-center">
                                <div class="text-8xl">ğŸ’¾ â¡ï¸ ğŸ“º</div>
                            </div>
                            <div class="md:w-2/3">
                                <h4 class="text-2xl font-bold text-amber-700 mb-2">éåŒæ­¥æ§åˆ¶ç³»çµ±</h4>
                                <p class="text-slate-600 mb-4 font-medium">å­˜å„²æ’­æ”¾ï¼šå…§å»ºåµŒå…¥å¼è™•ç†å™¨ï¼Œè„«æ©Ÿé‹ä½œã€‚</p>
                                <ul class="space-y-3 text-slate-600 text-sm">
                                    <li class="flex items-start"><span class="mr-2 text-amber-500">âœ“</span><span><strong>ç¡¬é«”ï¼š</strong> Android/Linux æ’­æ”¾ç›’ (å…§å»º 4G/Wi-Fi)ã€‚</span></li>
                                    <li class="flex items-start"><span class="mr-2 text-amber-500">âœ“</span><span><strong>æµç¨‹ï¼š</strong> é›²ç«¯ä¸‹ç™¼å…§å®¹ â†’ æœ¬åœ°å­˜å„² â†’ å¾ªç’°æ’­æ”¾ã€‚</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- V2 FEATURE: MODAL BUTTON -->
                <div class="bg-slate-50 px-8 py-4 border-t border-slate-100 text-sm text-slate-500 flex justify-between items-center absolute bottom-0 w-full">
                    <span id="sys-footer-text">éœ€è¦é›»è…¦ä¿æŒé–‹æ©Ÿé€£æ¥</span>
                    <button onclick="openHwModal()" class="text-indigo-600 hover:text-indigo-800 font-bold bg-indigo-50 hover:bg-indigo-100 px-4 py-2 rounded transition flex items-center gap-2 border border-indigo-200 shadow-sm">
                        <span>äº†è§£ç¡¬é«”è¨Šè™Ÿæµ</span>
                        <span>â†’</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-slate-400">Â© 2025 LED æŠ€è¡“çŸ¥è­˜åº« | åŸºæ–¼ä¸€èˆ¬æ¥­ç•Œé€šè¨Šèˆ‡ä¸²æ¥æ¨™æº–å ±å‘Šè£½ä½œ</p>
        </div>
    </footer>

    <!-- Hardware Detail Modal (Preserved from v2) -->
    <div id="hw-modal" class="modal fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-slate-900 bg-opacity-70 backdrop-blur-sm" onclick="closeHwModal()"></div>
        <div class="modal-content bg-white w-full max-w-4xl rounded-2xl shadow-2xl relative z-10 overflow-hidden flex flex-col max-h-[90vh]">
            <div class="bg-indigo-600 px-6 py-4 flex justify-between items-center">
                <h3 class="text-xl font-bold text-white">åŒæ­¥æ§åˆ¶ç³»çµ±ï¼šç¡¬é«”è¨Šè™Ÿæµæ¶æ§‹</h3>
                <button onclick="closeHwModal()" class="text-indigo-200 hover:text-white text-2xl">&times;</button>
            </div>
            <div class="p-6 overflow-y-auto bg-slate-50">
                <div class="flex flex-col md:flex-row gap-4 justify-between items-stretch mb-8 relative">
                    <!-- Steps (Simplified for brevity in this view, logically same as v2) -->
                    <div class="flex-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col items-center relative flow-arrow z-10">
                        <div class="text-3xl mb-1">ğŸ’»</div><h4 class="font-bold text-sm">è¨Šè™Ÿæº</h4><div class="text-xs text-slate-500">HDMI è¼¸å‡º</div>
                    </div>
                    <div class="flex-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col items-center relative flow-arrow z-10">
                        <div class="text-3xl mb-1">ğŸ›ï¸</div><h4 class="font-bold text-sm">è¦–è¨Šè™•ç†å™¨</h4><div class="text-xs text-slate-500">Scaling/Color</div>
                    </div>
                    <div class="flex-1 bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col items-center relative flow-arrow z-10">
                        <div class="text-3xl mb-1">ğŸƒ</div><h4 class="font-bold text-sm">ç™¼é€å¡</h4><div class="text-xs text-slate-500">å°åŒ…åŒ–</div>
                    </div>
                    <div class="flex-1 bg-indigo-50 p-4 rounded-xl shadow-sm border border-indigo-200 flex flex-col items-center z-10">
                        <div class="text-3xl mb-1">ğŸ“º</div><h4 class="font-bold text-sm text-indigo-800">æ¥æ”¶å¡</h4><div class="text-xs text-indigo-600">PWM é©…å‹•</div>
                    </div>
                </div>
                <div class="text-sm text-slate-600 bg-white p-4 rounded border">
                    <strong>å·¥ç¨‹å¸«ç­†è¨˜ï¼š</strong> è¨Šè™Ÿéˆè·¯ä¸­ï¼Œç™¼é€å¡ (Sending Card) æ˜¯å°‡ HDMI è¦–è¨Šè¨Šè™Ÿè½‰ç‚º Gigabit Ethernet å°åŒ…çš„é—œéµç¯€é»ã€‚æ¯å€‹ RJ45 è¼¸å‡ºåŸ é€šå¸¸è² è²¬ 65 è¬åƒç´ é»ã€‚
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- Modal Logic ---
        function openHwModal() { document.getElementById('hw-modal').classList.add('active'); document.body.style.overflow = 'hidden'; }
        function closeHwModal() { document.getElementById('hw-modal').classList.remove('active'); document.body.style.overflow = ''; }
        document.addEventListener('keydown', function(event) { if (event.key === "Escape") closeHwModal(); });

        // --- Navigation ---
        function scrollToSection(id) { document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' }); }

        // --- Protocol Chart ---
        const ctxProtocol = document.getElementById('protocolRadarChart').getContext('2d');
        const protocolData = {
            ethernet: { label: 'ä¹™å¤ªç¶²è·¯', data: [9, 9, 8, 7, 10], borderColor: 'rgba(79, 70, 229, 1)', backgroundColor: 'rgba(79, 70, 229, 0.2)', desc: 'ä¸»æµæ¨™æº–ã€‚Gbpsç´šé€Ÿåº¦ï¼ŒRJ45ä»‹é¢ï¼Œè·é›¢100m+ã€‚' },
            rs485: { label: 'RS-485', data: [3, 7, 9, 9, 5], borderColor: 'rgba(245, 158, 11, 1)', backgroundColor: 'rgba(245, 158, 11, 0.2)', desc: 'å·¥æ¥­æ¨™æº–ã€‚ä½é€Ÿæ§åˆ¶æŒ‡ä»¤ï¼ŒæŠ—å™ªå¼·ï¼Œè·é›¢1km+ã€‚' },
            fiber: { label: 'å…‰çº–', data: [10, 10, 10, 4, 6], borderColor: 'rgba(20, 184, 166, 1)', backgroundColor: 'rgba(20, 184, 166, 0.2)', desc: 'é•·è·é›¢ç„¡æå‚³è¼¸ï¼Œç„¡é›»ç£å¹²æ“¾ï¼Œæˆæœ¬é«˜ã€‚' }
        };
        let currentChart = new Chart(ctxProtocol, {
            type: 'radar',
            data: { labels: ['å‚³è¼¸é€Ÿåº¦', 'å‚³è¼¸è·é›¢', 'æŠ—å¹²æ“¾èƒ½åŠ›', 'æˆæœ¬æ•ˆç›Š', 'æ™®åŠç¨‹åº¦'], datasets: [protocolData.ethernet, protocolData.rs485] },
            options: { responsive: true, maintainAspectRatio: false, scales: { r: { suggestedMin: 0, suggestedMax: 10, ticks: { display: false } } }, plugins: { legend: { position: 'bottom' } } }
        });
        function updateChart(type) {
            const datasets = type === 'all' ? [protocolData.ethernet, protocolData.rs485, protocolData.fiber] : [protocolData[type]];
            currentChart.data.datasets = datasets;
            currentChart.update();
            const descEl = document.querySelector('#protocol-desc p');
            const titleEl = document.querySelector('#protocol-desc h4');
            if (type !== 'all') { titleEl.textContent = protocolData[type].label; descEl.textContent = protocolData[type].desc; }
            else { titleEl.textContent = "ç¶œåˆæ¯”è¼ƒ"; descEl.textContent = "ä¹™å¤ªç¶²è·¯ç”¨æ–¼å½±åƒï¼ŒRS-485 ç”¨æ–¼æ§åˆ¶ï¼Œå…‰çº–ç”¨æ–¼é•·è·é›¢ã€‚"; }
        }

        // --- Hardware Connectors & DATA (Updated with Pinout HTML) ---
        const connectorData = {
            rj45: {
                icon: "ğŸŒ", title: "RJ45 (ä¹™å¤ªç¶²è·¯ä»‹é¢)",
                desc: "LED é¡¯ç¤ºå±æ ¸å¿ƒä»‹é¢ã€‚é€£æ¥ç™¼é€å¡èˆ‡æ¥æ”¶å¡ï¼Œéœ€ä½¿ç”¨ T568B æ¨™æº–ä»¥ç¢ºä¿ Gigabit é€Ÿç‡ç©©å®šã€‚",
                specs: "<li>æ¨™æº–ï¼šTIA/EIA-568-B</li><li>é€Ÿç‡ï¼š1000BASE-T (Gigabit)</li><li>ç·šæï¼šCat5e / Cat6</li>",
                pinoutHTML: `
                <table class="pin-table">
                    <thead><tr><th style="width:10%">Pin</th><th>Color (T568B)</th><th>Gigabit Signal</th></tr></thead>
                    <tbody>
                        <tr><td>1</td><td><span class="wire-dot" style="background:linear-gradient(90deg, white 50%, orange 50%)"></span>ç™½/æ©™</td><td><strong>BI_DA+</strong> (TX+)</td></tr>
                        <tr><td>2</td><td><span class="wire-dot" style="background:orange"></span>æ©™è‰²</td><td><strong>BI_DA-</strong> (TX-)</td></tr>
                        <tr><td>3</td><td><span class="wire-dot" style="background:linear-gradient(90deg, white 50%, green 50%)"></span>ç™½/ç¶ </td><td><strong>BI_DB+</strong> (RX+)</td></tr>
                        <tr><td>4</td><td><span class="wire-dot" style="background:blue"></span>è—è‰²</td><td class="text-slate-400">BI_DC+</td></tr>
                        <tr><td>5</td><td><span class="wire-dot" style="background:linear-gradient(90deg, white 50%, blue 50%)"></span>ç™½/è—</td><td class="text-slate-400">BI_DC-</td></tr>
                        <tr><td>6</td><td><span class="wire-dot" style="background:green"></span>ç¶ è‰²</td><td><strong>BI_DB-</strong> (RX-)</td></tr>
                        <tr><td>7</td><td><span class="wire-dot" style="background:linear-gradient(90deg, white 50%, brown 50%)"></span>ç™½/æ£•</td><td class="text-slate-400">BI_DD+</td></tr>
                        <tr><td>8</td><td><span class="wire-dot" style="background:brown"></span>æ£•è‰²</td><td class="text-slate-400">BI_DD-</td></tr>
                    </tbody>
                </table>
                <div class="mt-2 text-xs text-slate-400">* BI = Bi-directional (Gigabit å…¨é›™å·¥ä½¿ç”¨ 4 å°ç·š)</div>
                `
            },
            aviation: {
                icon: "ğŸ›¡ï¸", title: "èˆªç©ºæ’é ­ (Aviation Plug)",
                desc: "æˆ¶å¤–å±èˆ‡ç§Ÿè³ƒå±å°ˆç”¨ã€‚å…·å‚™é˜²æ°´ç’°èˆ‡é–æ‰£ï¼Œé˜²æ­¢éœ‡å‹•è„«è½ã€‚",
                specs: "<li>é˜²æ°´ç­‰ç´šï¼šIP65 / IP67</li><li>é¡å‹ï¼š3 Pin (Power), 4 Pin (Signal)</li>",
                pinoutHTML: `
                <table class="pin-table">
                    <thead><tr><th colspan="3" style="text-align:center; background:#e2e8f0;">å¸¸è¦‹ 3-Pin é›»æºå®šç¾©</th></tr></thead>
                    <tbody>
                        <tr><td>1 / L</td><td class="text-red-700 font-bold">Line</td><td>ç«ç·š (æ£•/ç´…)</td></tr>
                        <tr><td>2 / N</td><td class="text-blue-700 font-bold">Neutral</td><td>é›¶ç·š (è—/é»‘)</td></tr>
                        <tr><td>3 / PE</td><td class="text-green-700 font-bold">Ground</td><td>åœ°ç·š (é»ƒç¶ )</td></tr>
                    </tbody>
                </table>
                <div class="mt-3 p-2 bg-yellow-50 text-xs text-yellow-800 border border-yellow-200 rounded">âš ï¸ æ³¨æ„ï¼šè¨Šè™Ÿç”¨èˆªç©ºé ­å®šç¾©å„å» ç‰Œ(Neutrik/Seetronic)å¯èƒ½ä¸åŒï¼Œè«‹è©³é–±ç®±é«”æ‰‹å†Šã€‚</div>
                `
            },
            fiber: {
                icon: "ğŸ’¡", title: "å…‰çº–ä»‹é¢ (Fiber Optic)",
                desc: "æ§åˆ¶å®¤è·é›¢ > 100m æ™‚ä½¿ç”¨ã€‚éœ€é…åˆ SFP æ¨¡çµ„é€²è¡Œå…‰é›»è½‰æ›ã€‚",
                specs: "<li>æ¥é ­ï¼šLC (SFP) / SC</li><li>æ¨¡å¼ï¼šSingle Mode (å–®æ¨¡)</li>",
                pinoutHTML: `
                <div class="flex flex-col items-center justify-center h-48 text-slate-500">
                    <div class="text-5xl mb-2">TX â‡„ RX</div>
                    <p class="text-sm font-bold">Cross Connection</p>
                    <p class="text-xs mt-1">å…‰çº–ç„¡é›»æ°£è…³ä½ï¼Œåƒ…å€åˆ†ç™¼é€èˆ‡æ¥æ”¶</p>
                </div>
                `
            },
            dsub: {
                icon: "ğŸ“Ÿ", title: "DB9 / RS-232",
                desc: "å‚³çµ±åºåˆ—é€šè¨Šï¼Œç”¨æ–¼é€£æ¥å…‰æ„Ÿæ¢é ­æˆ–èˆŠå‹è¨­å‚™ã€‚",
                specs: "<li>ä»‹é¢ï¼šDE-9 (Male/Female)</li><li>å”å®šï¼šAsync Serial</li>",
                pinoutHTML: `
                <table class="pin-table">
                    <thead><tr><th>Pin</th><th>Name</th><th>Function</th></tr></thead>
                    <tbody>
                        <tr><td>2</td><td><strong>RXD</strong></td><td>Receive Data (æ¥æ”¶)</td></tr>
                        <tr><td>3</td><td><strong>TXD</strong></td><td>Transmit Data (ç™¼é€)</td></tr>
                        <tr><td>5</td><td><strong>GND</strong></td><td>Ground (åœ°ç·š)</td></tr>
                        <tr class="bg-slate-50 text-slate-400"><td>Others</td><td>NC</td><td>No Connection</td></tr>
                    </tbody>
                </table>
                `
            }
        };

        function selectConnector(key) {
            document.querySelectorAll('.connector-card').forEach(c => c.classList.remove('active'));
            document.getElementById(`card-${key}`).classList.add('active');
            
            const data = connectorData[key];
            document.getElementById('connector-icon').textContent = data.icon;
            document.getElementById('connector-title').textContent = data.title;
            document.getElementById('connector-desc').textContent = data.desc;
            document.getElementById('connector-specs').innerHTML = data.specs;
            document.getElementById('pinout-container').innerHTML = data.pinoutHTML;
        }

        // Initialize with RJ45
        selectConnector('rj45');

        // --- Topology & Control Logic (Same as v2) ---
        const canvas = document.getElementById('topologyCanvas');
        const ctx = canvas.getContext('2d');
        let activeTopology = 'chain';
        function resizeCanvas() { canvas.width = canvas.parentElement.clientWidth; canvas.height = canvas.parentElement.clientHeight; }
        window.addEventListener('resize', resizeCanvas); resizeCanvas();

        class Node { constructor(x, y, label) { this.x = x; this.y = y; this.label = label; } }
        let nodes = [];
        function initTopology(type) {
            nodes = []; const w = canvas.width, h = canvas.height, startX = 50, startY = h/2;
            nodes.push(new Node(startX, startY, 'Sender'));
            if(type==='chain'||type==='ring') { const gap=(w-100)/4; for(let i=1;i<=4;i++) nodes.push(new Node(startX+i*gap, startY, `Cab ${i}`)); }
            else if(type==='star') { nodes.push(new Node(w/2, h/2-60, 'C1'), new Node(w/2+60, h/2, 'C2'), new Node(w/2, h/2+60, 'C3'), new Node(w/2-60, h/2, 'C4')); }
        }
        function draw() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            if(nodes.length===0) return;
            ctx.lineWidth=3; ctx.strokeStyle='#94a3b8'; ctx.beginPath(); ctx.moveTo(nodes[0].x,nodes[0].y);
            if(activeTopology==='chain') for(let i=1;i<nodes.length;i++) ctx.lineTo(nodes[i].x,nodes[i].y);
            else if(activeTopology==='star') for(let i=1;i<nodes.length;i++) { ctx.moveTo(nodes[0].x,nodes[0].y); ctx.lineTo(nodes[i].x,nodes[i].y); }
            else if(activeTopology==='ring') { for(let i=1;i<nodes.length;i++) ctx.lineTo(nodes[i].x,nodes[i].y); ctx.strokeStyle='#10b981'; ctx.lineTo(nodes[nodes.length-1].x,nodes[nodes.length-1].y+40); ctx.lineTo(nodes[0].x,nodes[0].y+40); ctx.closePath(); }
            ctx.stroke();
            nodes.forEach(n=>{ ctx.fillStyle=n.label==='Sender'?'#334155':'#3b82f6'; ctx.fillRect(n.x-15,n.y-10,30,20); });
            requestAnimationFrame(draw);
        }
        function setTopology(type) { activeTopology=type; document.querySelectorAll('.topo-btn').forEach(b=>b.classList.remove('ring-2','bg-indigo-50')); document.querySelector(`[data-type="${type}"]`).classList.add('ring-2','bg-indigo-50'); initTopology(type); }
        initTopology('chain'); draw();

        function toggleSystem(type) {
            if(type==='sync') { 
                document.getElementById('sys-content-sync').classList.remove('hidden'); document.getElementById('sys-content-async').classList.add('hidden');
                document.getElementById('btn-sync').classList.add('bg-indigo-600','text-white'); document.getElementById('btn-sync').classList.remove('text-slate-500');
                document.getElementById('btn-async').classList.remove('bg-amber-600','text-white'); document.getElementById('btn-async').classList.add('text-slate-500');
            } else {
                document.getElementById('sys-content-sync').classList.add('hidden'); document.getElementById('sys-content-async').classList.remove('hidden');
                document.getElementById('btn-sync').classList.remove('bg-indigo-600','text-white'); document.getElementById('btn-sync').classList.add('text-slate-500');
                document.getElementById('btn-async').classList.add('bg-amber-600','text-white'); document.getElementById('btn-async').classList.remove('text-slate-500');
            }
        }
    </script>
</body>
</html>
