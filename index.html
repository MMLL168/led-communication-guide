<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LED é¡¯ç¤ºå±ä¸²æ¥é€šè¨ŠåŸç† | äº’å‹•æŒ‡å— v3.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 400px; }
        }
        .canvas-sim-container {
            width: 100%;
            height: 300px;
            background-color: #f8fafc;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        .connector-card {
            transition: all 0.3s ease;
        }
        .connector-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .connector-card.active {
            border-color: #4f46e5;
            background-color: #eef2ff;
        }
        /* Modal Styles */
        .modal {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            transform: scale(0.95);
            transition: transform 0.3s ease-in-out;
        }
        .modal.active .modal-content {
            transform: scale(1);
        }
        /* Pinout Table Styles */
        .pin-table th {
            background-color: #f1f5f9;
            color: #475569;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            padding: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
        }
        .pin-table td {
            padding: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.875rem;
            font-family: monospace;
        }
        .pin-table tr:last-child td {
            border-bottom: none;
        }
        .wire-color-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 6px;
            border: 1px solid #cbd5e1;
        }
    </style>
    <!-- 
      v3.0 Updates:
      - Added "pinoutHTML" to connectorData object.
      - Implemented T568B pinout table for RJ45.
      - Added RS232 DB9 pinout.
      - Added visual cues for wire colors.
    -->
</head>
<body class="bg-slate-50 text-slate-800 leading-relaxed">

    <!-- Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl mr-2">ğŸ“Ÿ</span>
                    <h1 class="text-xl font-bold text-slate-900 tracking-tight">LED é¡¯ç¤ºå±ä¸²æ¥é€šè¨ŠæŒ‡å— <span class="text-xs bg-indigo-600 text-white px-2 py-0.5 rounded ml-2">v3.0 Engineering Edition</span></h1>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <button onclick="scrollToSection('protocols')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">é€šè¨Šå”å®š</button>
                    <button onclick="scrollToSection('hardware')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">ç¡¬é«”æ¥é ­</button>
                    <button onclick="scrollToSection('topology')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">ä¸²æ¥æ‹“æ’²</button>
                    <button onclick="scrollToSection('control')" class="text-slate-500 hover:text-indigo-600 px-3 py-2 text-sm font-medium">æ§åˆ¶ç³»çµ±</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="text-center">
            <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">
                å¤§å‹ LED é¡¯ç¤ºå±é€šè¨Šæ¶æ§‹è§£æ
            </h2>
            <p class="mt-4 max-w-2xl mx-auto text-xl text-slate-500">
                å°ˆç‚ºå·¥ç¨‹å¸«è¨­è¨ˆï¼šå«è…³ä½å®šç¾© (Pinout)ã€è¨Šè™Ÿæµå‘èˆ‡æ‹“æ’²æ¨¡æ“¬ã€‚
            </p>
        </div>
    </section>

    <!-- Section 1: Protocols -->
    <section id="protocols" class="bg-white py-12 border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:text-center mb-10">
                <h3 class="text-3xl leading-8 font-extrabold tracking-tight text-slate-900">
                    é€šè¨Šå”å®šæ¯”è¼ƒ (Protocol Analysis)
                </h3>
            </div>
            <div class="flex flex-col lg:flex-row gap-12 items-center">
                <div class="w-full lg:w-1/2">
                    <div class="chart-container bg-slate-50 rounded-xl p-4 shadow-inner">
                        <canvas id="protocolRadarChart"></canvas>
                    </div>
                </div>
                <div class="w-full lg:w-1/2 space-y-6">
                    <div class="flex flex-wrap gap-2">
                        <button onclick="updateChart('all')" class="px-3 py-1 bg-slate-800 text-white rounded text-sm hover:bg-slate-700">å…¨éƒ¨æ¯”è¼ƒ</button>
                        <button onclick="updateChart('ethernet')" class="px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-sm hover:bg-indigo-200">ä¹™å¤ªç¶²è·¯</button>
                        <button onclick="updateChart('rs485')" class="px-3 py-1 bg-amber-100 text-amber-700 rounded text-sm hover:bg-amber-200">RS-485</button>
                    </div>
                    <div id="protocol-desc" class="bg-slate-50 p-6 rounded-lg border border-slate-200 min-h-[10rem]">
                        <h4 class="text-lg font-bold text-slate-900 mb-2">ä¹™å¤ªç¶²è·¯ (Ethernet / TCP/IP)</h4>
                        <p class="text-slate-600 mb-2"><strong>æ‡‰ç”¨ï¼š</strong> å½±åƒæ•¸æ“šå‚³è¼¸ (Sending Card â†” Receiving Card)ã€‚</p>
                        <ul class="list-disc pl-5 space-y-1 text-slate-600 text-sm">
                            <li><strong>é »å¯¬ï¼š</strong> 1Gbps (Gigabit)ï¼Œä½¿ç”¨å…¨éƒ¨ 4 å°é›™çµç·šã€‚</li>
                            <li><strong>ç‰©ç†å±¤ï¼š</strong> RJ45 / Cat5e / Cat6ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Hardware Connectors (WITH PINOUT) -->
    <section id="hardware" class="py-12 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-6">
                <h3 class="text-3xl font-bold text-slate-900">ç¡¬é«”æ¥é ­èˆ‡è…³ä½å®šç¾© (Pinout)</h3>
                <p class="mt-2 text-slate-500">é»æ“Šå¡ç‰‡æŸ¥çœ‹è©³ç´°è¦æ ¼èˆ‡ Pin Defineã€‚</p>
            </div>

            <!-- Connector Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div onclick="selectConnector('rj45')" id="card-rj45" class="connector-card active cursor-pointer bg-white p-5 rounded-xl border border-slate-200 hover:border-indigo-400 relative overflow-hidden group">
                    <div class="flex items-center gap-3">
                        <div class="text-3xl">ğŸŒ</div>
                        <div>
                            <h4 class="font-bold text-slate-800">RJ45</h4>
                            <p class="text-xs text-slate-500">Ethernet / Gigabit</p>
                        </div>
                    </div>
                </div>

                <div onclick="selectConnector('dsub')" id="card-dsub" class="connector-card cursor-pointer bg-white p-5 rounded-xl border border-slate-200 hover:border-indigo-400 relative overflow-hidden group">
                    <div class="flex items-center gap-3">
                        <div class="text-3xl">ğŸ“Ÿ</div>
                        <div>
                            <h4 class="font-bold text-slate-800">DB9 / RS232</h4>
                            <p class="text-xs text-slate-500">Serial Control</p>
                        </div>
                    </div>
                </div>

                <div onclick="selectConnector('aviation')" id="card-aviation" class="connector-card cursor-pointer bg-white p-5 rounded-xl border border-slate-200 hover:border-indigo-400 relative overflow-hidden group">
                    <div class="flex items-center gap-3">
                        <div class="text-3xl">ğŸ›¡ï¸</div>
                        <div>
                            <h4 class="font-bold text-slate-800">èˆªç©ºæ’é ­</h4>
                            <p class="text-xs text-slate-500">Power / Signal</p>
                        </div>
                    </div>
                </div>
                
                 <div onclick="selectConnector('fiber')" id="card-fiber" class="connector-card cursor-pointer bg-white p-5 rounded-xl border border-slate-200 hover:border-indigo-400 relative overflow-hidden group">
                    <div class="flex items-center gap-3">
                        <div class="text-3xl">ğŸ’¡</div>
                        <div>
                            <h4 class="font-bold text-slate-800">å…‰çº– (Fiber)</h4>
                            <p class="text-xs text-slate-500">LC / SC Mode</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Detail View & Pinout Table -->
            <div class="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col lg:flex-row">
                <!-- Left: Description -->
                <div class="lg:w-1/2 p-8 border-b lg:border-b-0 lg:border-r border-slate-100">
                    <div class="flex items-center gap-4 mb-4">
                        <div id="connector-icon" class="text-5xl bg-slate-100 p-3 rounded-lg">ğŸŒ</div>
                        <div>
                            <h4 id="connector-title" class="text-2xl font-bold text-indigo-700">RJ45 (ä¹™å¤ªç¶²è·¯ä»‹é¢)</h4>
                            <span id="connector-subtitle" class="text-sm font-mono text-slate-400">T568B Standard</span>
                        </div>
                    </div>
                    <p id="connector-desc" class="text-slate-600 mb-6 leading-relaxed">
                        LED é¡¯ç¤ºå±æœ€æ ¸å¿ƒçš„æ•¸æ“šå‚³è¼¸ä»‹é¢ã€‚ç”¨æ–¼ç™¼é€å¡èˆ‡æ¥æ”¶å¡ä¹‹é–“çš„ç´šè¯ã€‚å¿…é ˆæ”¯æ´ Gigabit é€Ÿç‡ä»¥å‚³è¼¸é«˜åˆ·æ–°ç‡å½±åƒã€‚
                    </p>
                    <div class="bg-amber-50 border-l-4 border-amber-400 p-4">
                        <h5 class="text-amber-800 font-bold text-sm mb-1">å·¥ç¨‹å¸«ç­†è¨˜ï¼š</h5>
                        <ul id="connector-notes" class="list-disc pl-4 text-sm text-amber-700 space-y-1">
                            <li>ç·šåºå¿…é ˆä¾ç…§ T568B æ¨™æº–è£½ä½œã€‚</li>
                            <li>Gigabit å‚³è¼¸éœ€è¦ç”¨åˆ°å…¨éƒ¨ 4 å°ç·š (8 pins)ã€‚</li>
                        </ul>
                    </div>
                </div>

                <!-- Right: Pinout Table -->
                <div class="lg:w-1/2 p-0 bg-slate-50 flex flex-col">
                    <div class="px-6 py-3 bg-slate-200 border-b border-slate-300 font-bold text-slate-700 flex justify-between items-center">
                        <span>PIN DEFINITION</span>
                        <span class="text-xs font-normal text-slate-500 bg-white px-2 py-1 rounded border">Datasheet View</span>
                    </div>
                    <div id="pinout-container" class="overflow-x-auto p-4 flex-grow flex items-start justify-center">
                        <!-- Table will be injected here via JS -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Topology Simulation -->
    <section id="topology" class="py-12 bg-white border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h3 class="text-3xl font-bold text-slate-900 mb-6">ä¸²æ¥æ‹“æ’²æ¨¡æ“¬</h3>
            <div class="lg:flex lg:gap-8">
                <div class="lg:w-1/4 space-y-2 mb-4 lg:mb-0">
                    <button onclick="setTopology('chain')" class="w-full text-left px-4 py-3 rounded border hover:bg-indigo-50 topo-btn active-topo ring-2 ring-indigo-500 bg-indigo-50" data-type="chain">
                        <div class="font-bold">èŠèŠ±éˆ (Daisy Chain)</div>
                    </button>
                    <button onclick="setTopology('ring')" class="w-full text-left px-4 py-3 rounded border hover:bg-indigo-50 topo-btn" data-type="ring">
                        <div class="font-bold">ç’°ç‹€å‚™æ´ (Loop)</div>
                    </button>
                </div>
                <div class="lg:w-3/4">
                    <div class="canvas-sim-container shadow-inner">
                        <canvas id="topologyCanvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Control System Section (Kept from v2) -->
    <section id="control" class="py-12 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
             <h3 class="text-2xl font-bold text-slate-900 mb-4">ç³»çµ±æ¶æ§‹è¦–åœ–</h3>
             <button onclick="openHwModal()" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                é–‹å•Ÿç¡¬é«”è¨Šè™Ÿæµå‘åœ– (Signal Flow)
             </button>
        </div>
    </section>

    <!-- Hardware Detail Modal (Signal Flow) -->
    <div id="hw-modal" class="modal fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-slate-900 bg-opacity-80 backdrop-blur-sm" onclick="closeHwModal()"></div>
        <div class="modal-content bg-white w-full max-w-5xl rounded-xl shadow-2xl relative z-10 overflow-hidden flex flex-col max-h-[90vh]">
            <div class="bg-indigo-900 px-6 py-4 flex justify-between items-center">
                <h3 class="text-xl font-bold text-white">åŒæ­¥ç³»çµ±ç¡¬é«”æ¶æ§‹</h3>
                <button onclick="closeHwModal()" class="text-indigo-200 hover:text-white text-2xl">&times;</button>
            </div>
            <div class="p-8 overflow-y-auto bg-slate-50">
                <!-- Simplified Flow for Clarity -->
                <div class="flex flex-col md:flex-row items-center justify-center gap-4 text-center">
                    <div class="p-4 bg-white border rounded shadow w-40">
                        <div class="text-3xl">ğŸ’»</div>
                        <div class="font-bold mt-2">PC / æ¨¹è“æ´¾</div>
                        <div class="text-xs text-slate-500">HDMI è¼¸å‡º</div>
                    </div>
                    <div class="text-slate-400 text-2xl">â†’</div>
                    <div class="p-4 bg-white border rounded shadow w-40">
                        <div class="text-3xl">ğŸ›ï¸</div>
                        <div class="font-bold mt-2">è¦–è¨Šè™•ç†å™¨</div>
                        <div class="text-xs text-slate-500">Video Processor</div>
                    </div>
                     <div class="text-slate-400 text-2xl">â†’</div>
                    <div class="p-4 bg-white border rounded shadow w-40">
                        <div class="text-3xl">ğŸƒ</div>
                        <div class="font-bold mt-2">ç™¼é€å¡</div>
                        <div class="text-xs text-slate-500">Sending Card</div>
                    </div>
                     <div class="text-slate-400 text-2xl">â†’</div>
                     <div class="p-4 bg-indigo-50 border border-indigo-200 rounded shadow w-40">
                        <div class="text-3xl">ğŸ“¦</div>
                        <div class="font-bold mt-2 text-indigo-700">æ¥æ”¶å¡</div>
                        <div class="text-xs text-indigo-500">Receiving Card</div>
                    </div>
                </div>
                <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white p-4 rounded border text-sm">
                        <h4 class="font-bold text-indigo-600 mb-2">é—œéµæŠ€è¡“é»ï¼š</h4>
                        <ul class="list-disc pl-4 space-y-1 text-slate-600">
                            <li><strong>ç™¼é€å¡ï¼š</strong>å°‡ HDMI è¨Šè™Ÿå°åŒ…åŒ–ç‚º Ethernet Frameã€‚</li>
                            <li><strong>æ¥æ”¶å¡ï¼š</strong>ä½æ–¼ LED ç®±é«”å…§ï¼Œè² è²¬ PWM é©…å‹•ã€‚</li>
                            <li><strong>å‚³è¼¸ä»‹è³ªï¼š</strong>å¿…é ˆä½¿ç”¨ Cat5e/Cat6 ç¶²è·¯ç·š (RJ45)ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- Modal Logic ---
        function openHwModal() { document.getElementById('hw-modal').classList.add('active'); document.body.style.overflow = 'hidden'; }
        function closeHwModal() { document.getElementById('hw-modal').classList.remove('active'); document.body.style.overflow = ''; }
        
        // --- Navigation ---
        function scrollToSection(id) { document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' }); }

        // --- Protocol Chart ---
        const ctxProtocol = document.getElementById('protocolRadarChart').getContext('2d');
        const protocolData = {
            ethernet: { label: 'ä¹™å¤ªç¶²è·¯', data: [9, 9, 8, 7, 10], borderColor: 'rgba(79, 70, 229, 1)', backgroundColor: 'rgba(79, 70, 229, 0.2)' },
            rs485: { label: 'RS-485', data: [3, 7, 9, 9, 5], borderColor: 'rgba(245, 158, 11, 1)', backgroundColor: 'rgba(245, 158, 11, 0.2)' }
        };
        let currentChart = new Chart(ctxProtocol, {
            type: 'radar',
            data: { labels: ['é€Ÿåº¦', 'è·é›¢', 'æŠ—å™ª', 'æˆæœ¬', 'æ™®åŠ'], datasets: [protocolData.ethernet, protocolData.rs485] },
            options: { responsive: true, maintainAspectRatio: false, scales: { r: { suggestedMin: 0, suggestedMax: 10, ticks: { display: false } } } }
        });
        function updateChart(type) {
            const datasets = type === 'all' ? [protocolData.ethernet, protocolData.rs485] : [protocolData[type]];
            currentChart.data.datasets = datasets;
            currentChart.update();
        }

        // --- Hardware Connectors & PINOUT DATA ---
        const connectorData = {
            rj45: {
                icon: "ğŸŒ", title: "RJ45 (ä¹™å¤ªç¶²è·¯)", subtitle: "T568B Standard / Gigabit",
                desc: "LED é¡¯ç¤ºå±æ¨™æº–é€šè¨Šä»‹é¢ã€‚å¤§å‹å±é«”æ•¸æ“šé‡å¤§ï¼Œå¿…é ˆä½¿ç”¨ Gigabit Ethernet å‚³è¼¸ï¼Œå› æ­¤ 8 æ ¹é‡è…³å…¨æ•¸ä½¿ç”¨ã€‚",
                notes: "<li>è«‹å‹™å¿…ä½¿ç”¨ T568B ç·šåºã€‚</li><li>ç·šé•·å»ºè­° < 100mï¼Œè¶…ééœ€ä½¿ç”¨å…‰çº–ã€‚</li>",
                pinoutHTML: `
                <table class="w-full pin-table text-left border-collapse">
                    <thead><tr><th class="w-12">Pin</th><th>Color (T568B)</th><th>Signal (Gigabit)</th></tr></thead>
                    <tbody>
                        <tr><td>1</td><td><span class="wire-color-dot" style="background:linear-gradient(90deg, white 50%, orange 50%);"></span>ç™½/æ©™</td><td class="font-mono text-indigo-600">BI_DA+ (TX+)</td></tr>
                        <tr><td>2</td><td><span class="wire-color-dot" style="background:orange;"></span>æ©™è‰²</td><td class="font-mono text-indigo-600">BI_DA- (TX-)</td></tr>
                        <tr><td>3</td><td><span class="wire-color-dot" style="background:linear-gradient(90deg, white 50%, green 50%);"></span>ç™½/ç¶ </td><td class="font-mono text-indigo-600">BI_DB+ (RX+)</td></tr>
                        <tr><td>4</td><td><span class="wire-color-dot" style="background:blue;"></span>è—è‰²</td><td class="font-mono text-slate-500">BI_DC+</td></tr>
                        <tr><td>5</td><td><span class="wire-color-dot" style="background:linear-gradient(90deg, white 50%, blue 50%);"></span>ç™½/è—</td><td class="font-mono text-slate-500">BI_DC-</td></tr>
                        <tr><td>6</td><td><span class="wire-color-dot" style="background:green;"></span>ç¶ è‰²</td><td class="font-mono text-indigo-600">BI_DB- (RX-)</td></tr>
                        <tr><td>7</td><td><span class="wire-color-dot" style="background:linear-gradient(90deg, white 50%, brown 50%);"></span>ç™½/æ£•</td><td class="font-mono text-slate-500">BI_DD+</td></tr>
                        <tr><td>8</td><td><span class="wire-color-dot" style="background:brown;"></span>æ£•è‰²</td><td class="font-mono text-slate-500">BI_DD-</td></tr>
                    </tbody>
                </table>
                <div class="mt-2 text-xs text-slate-400">* BI = Bi-directional Data (é›™å‘æ•¸æ“š)</div>`
            },
            dsub: {
                icon: "ğŸ“Ÿ", title: "DB9 (RS-232)", subtitle: "Serial Communication",
                desc: "å‚³çµ±åºåˆ—é€šè¨Šï¼Œç”¨æ–¼é€£æ¥å…‰æ„Ÿæ¢é ­ã€å¤šåŠŸèƒ½å¡æˆ–èˆŠå‹ä¸­æ§ç³»çµ±ã€‚é€šå¸¸åƒ…ä½¿ç”¨ 3 æ ¹è…³ä½ (TX, RX, GND)ã€‚",
                notes: "<li>é€šå¸¸ç‚ºæ¯é ­ (Female) æ¥é›»è…¦å…¬é ­ (Male)ã€‚</li><li>åƒ…é©ç”¨æ–¼çŸ­è·é›¢ä½é€Ÿæ§åˆ¶ã€‚</li>",
                pinoutHTML: `
                <table class="w-full pin-table text-left border-collapse">
                    <thead><tr><th class="w-12">Pin</th><th>Name</th><th>Function</th></tr></thead>
                    <tbody>
                        <tr><td>2</td><td class="font-bold">RXD</td><td class="font-mono">Receive Data (æ¥æ”¶)</td></tr>
                        <tr><td>3</td><td class="font-bold">TXD</td><td class="font-mono">Transmit Data (ç™¼é€)</td></tr>
                        <tr><td>5</td><td class="font-bold">GND</td><td class="font-mono">Ground (åœ°ç·š)</td></tr>
                        <tr class="bg-slate-50 text-slate-400"><td>1,4,6,7,8,9</td><td>-</td><td>NC (é€šå¸¸ä¸é€£æ¥)</td></tr>
                    </tbody>
                </table>`
            },
            aviation: {
                icon: "ğŸ›¡ï¸", title: "èˆªç©ºæ’é ­ (Aviation)", subtitle: "Power / Signal Connector",
                desc: "æˆ¶å¤–å±å°ˆç”¨ï¼Œé˜²æ°´ç­‰ç´š IP65ã€‚å¸¸è¦‹ 3 Pin (é›»æº) æˆ– 4 Pin (è¨Šè™Ÿ)ã€‚",
                notes: "<li>é›»æºï¼šL (ç«ç·š), N (é›¶ç·š), G (åœ°ç·š)ã€‚</li><li>è¨Šè™Ÿï¼šé€šå¸¸æ•´åˆ RJ45 å…§èŠ¯æˆ–ä½¿ç”¨å°ˆç”¨ 4 èŠ¯å®šç¾©ã€‚</li>",
                pinoutHTML: `
                <table class="w-full pin-table text-left border-collapse">
                    <thead><tr><th colspan="3" class="text-center bg-slate-200">3-Pin é›»æºå¸¸è¦‹å®šç¾©</th></tr></thead>
                    <tbody>
                        <tr><td>1 / L</td><td class="text-red-600 font-bold">Line</td><td>ç«ç·š (æ£•/ç´…)</td></tr>
                        <tr><td>2 / N</td><td class="text-blue-600 font-bold">Neutral</td><td>é›¶ç·š (è—/é»‘)</td></tr>
                        <tr><td>3 / PE</td><td class="text-green-600 font-bold">Ground</td><td>åœ°ç·š (é»ƒç¶ )</td></tr>
                    </tbody>
                </table>
                <div class="mt-3 p-2 bg-yellow-50 text-xs text-yellow-800 border border-yellow-200 rounded">
                    âš ï¸ æ³¨æ„ï¼šå„å» å®¶è¨Šè™Ÿèˆªç©ºé ­å®šç¾©å¯èƒ½ä¸åŒï¼Œå‹™å¿…åƒé–±è©²ç®±é«”èªªæ˜æ›¸ã€‚
                </div>`
            },
            fiber: {
                icon: "ğŸ’¡", title: "å…‰çº– (Fiber)", subtitle: "LC / SC Connector",
                desc: "ç„¡é›»æ°£è…³ä½ï¼Œä½¿ç”¨å…‰è¨Šè™Ÿå‚³è¼¸ã€‚ä¾è³´ SFP æ¨¡çµ„é€²è¡Œå…‰é›»è½‰æ›ã€‚",
                notes: "<li>RX æ¥ TXï¼ŒTX æ¥ RX (äº¤å‰é€£æ¥)ã€‚</li><li>å–®æ¨¡ (Single Mode) å‚³è¼¸è·é›¢ > 10kmã€‚</li>",
                pinoutHTML: `
                <div class="flex flex-col items-center justify-center h-full p-6 text-slate-500">
                    <div class="text-4xl mb-2">TX â‡„ RX</div>
                    <p class="text-sm text-center">å…‰çº–ç„¡ Pin å®šç¾©</p>
                    <p class="text-xs text-center mt-1">é€é SFP æ¨¡çµ„å®šç¾©æ³¢é•·èˆ‡é€Ÿç‡</p>
                </div>`
            }
        };

        function selectConnector(key) {
            // Update Active State
            document.querySelectorAll('.connector-card').forEach(el => el.classList.remove('active', 'border-indigo-400', 'bg-eef2ff'));
            document.getElementById(`card-${key}`).classList.add('active', 'border-indigo-400');
            
            // Update Content
            const data = connectorData[key];
            document.getElementById('connector-icon').textContent = data.icon;
            document.getElementById('connector-title').textContent = data.title;
            document.getElementById('connector-subtitle').textContent = data.subtitle;
            document.getElementById('connector-desc').textContent = data.desc;
            document.getElementById('connector-notes').innerHTML = data.notes;
            document.getElementById('pinout-container').innerHTML = data.pinoutHTML;
        }

        // Initialize with RJ45
        selectConnector('rj45');

        // --- Topology (Simple Logic) ---
        const canvas = document.getElementById('topologyCanvas');
        const ctx = canvas.getContext('2d');
        let activeTopology = 'chain';

        function resizeCanvas() { canvas.width = canvas.parentElement.clientWidth; canvas.height = canvas.parentElement.clientHeight; }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Node { constructor(x, y, type) { this.x = x; this.y = y; this.type = type; } }
        let nodes = [];
        
        function initTopology(type) {
            nodes = [];
            const w = canvas.width;
            const startX = 50, startY = canvas.height / 2;
            nodes.push(new Node(startX, startY, 'Sender'));
            const gap = (w - 100) / 4;
            for(let i=1; i<=4; i++) nodes.push(new Node(startX + i*gap, startY, 'Cab'));
        }

        function draw() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            if(nodes.length === 0) return;

            ctx.lineWidth = 3;
            ctx.strokeStyle = '#94a3b8';
            ctx.beginPath();
            ctx.moveTo(nodes[0].x, nodes[0].y);
            
            // Chain
            for(let i=1; i<nodes.length; i++) ctx.lineTo(nodes[i].x, nodes[i].y);
            
            // Ring
            if(activeTopology === 'ring') {
                ctx.stroke(); 
                ctx.beginPath();
                ctx.strokeStyle = '#10b981'; // Green Return
                ctx.moveTo(nodes[nodes.length-1].x, nodes[nodes.length-1].y);
                ctx.bezierCurveTo(nodes[nodes.length-1].x, nodes[nodes.length-1].y + 100, nodes[0].x, nodes[0].y + 100, nodes[0].x, nodes[0].y);
            }
            ctx.stroke();

            // Nodes
            nodes.forEach(n => {
                ctx.fillStyle = n.type === 'Sender' ? '#334155' : '#3b82f6';
                ctx.fillRect(n.x-15, n.y-10, 30, 20);
            });
            requestAnimationFrame(draw);
        }

        function setTopology(type) {
            activeTopology = type;
            document.querySelectorAll('.topo-btn').forEach(b => b.classList.remove('ring-2', 'bg-indigo-50'));
            document.querySelector(`.topo-btn[data-type="${type}"]`).classList.add('ring-2', 'bg-indigo-50');
            initTopology(type);
        }

        initTopology('chain');
        draw();

    </script>
</body>
</html>
